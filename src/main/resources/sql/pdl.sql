create database pdl;


CREATE TABLE if not exists `pdl_loan` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `serial_id` int(10) NOT NULL COMMENT '贷款单号',
  `user_id` int(11) NOT NULL COMMENT '用户ID',
  `amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '贷款金额',
  `apply_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '申请金额',
  `expect_pay_amount` decimal(64,18) NOT NULL COMMENT '应还款金额',
  `real_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '实际放款金额(扣手续费)',
  `fee` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '服务费',
  `fee_amount` decimal(64,18) NOT NULL COMMENT '服务费总额',
  `rate` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '利息',
  `rate_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '利息总额',
  `brokerage` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '手续费',
  `brokerage_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '手续费总额',
  `financing_fee` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '融资服务费率',
  `financing_fee_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '融资服务费用',
  `loan_time` int(10) NOT NULL COMMENT '贷款时长 :天',
  `loan_start_time` int(11) NOT NULL DEFAULT '0' COMMENT '开始放款时间',
  `loan_success_time` int(11) NOT NULL COMMENT '放款成功时间',
  `time` int(11) NOT NULL COMMENT '创建时间',
  `apply_time` int(11) NOT NULL DEFAULT '0' COMMENT '申请时间',
  `last_calculate_time` int(11) NOT NULL COMMENT '最后结算时间(逾期用)',
  `update_time` int(11) NOT NULL COMMENT '更新时间',
  `ip` varchar(16) NOT NULL DEFAULT '' COMMENT 'IP',
  `lock` tinyint(2) NOT NULL DEFAULT '0' COMMENT '锁状态 0未加锁 1加锁',
  `platform` varchar(16) NOT NULL DEFAULT '' COMMENT '1pc2wap3ios4android',
  `status` tinyint(3) NOT NULL DEFAULT '0' COMMENT '0创建借款请求 1待审核 2审核通过等待提现 3 提现中  4 审核失败 5 提现成功 6提现失败 7还款成功 8已逾期 9取消申请 20信审处理中 ',
  `use_way` varchar(64) NOT NULL DEFAULT '' COMMENT '借款用途',
  `expect_pay_time` int(11) NOT NULL DEFAULT '0' COMMENT '预计还款时间',
  `pay_success_time` int(11) NOT NULL DEFAULT '0' COMMENT '成功还款时间',
  `loan_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT '1首贷 2续贷',
  `operator` bigint(11) NOT NULL DEFAULT '0' COMMENT '操作者ID',
  `withdraw_channel` int(11) NOT NULL DEFAULT '1' COMMENT '提现渠道 1财小仙内部 2真金服 3新网',
  `periods` tinyint(4) NOT NULL DEFAULT '1' COMMENT '总期数',
  `month_rate` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '月费率',
  `month_fee_amount` decimal(64,18) NOT NULL DEFAULT '0.000000000000000000' COMMENT '月费用',
  `confirm_withdraw` tinyint(4) NOT NULL DEFAULT '0' COMMENT '确认提现  30等待确认提现  31已经确认提现  32确认提现成功  33确认提现失败',
  `from_channel` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '产品渠道 1财小仙 2小额单期',
  `product_id` tinyint(4) NOT NULL DEFAULT '0' COMMENT '产品编号',
  PRIMARY KEY (`id`),
  KEY `idx_ip` (`ip`),
  KEY `idx_user_id_status` (`user_id`,`status`),
  KEY `status` (`status`),
  KEY `time` (`time`),
  KEY `idx_loan_success_time_status` (`loan_success_time`,`status`),
  KEY `idx_serial_id` (`serial_id`),
  KEY `idx_pay_success_time` (`pay_success_time`),
  KEY `idx_expect_pay_time` (`expect_pay_time`)
) ENGINE=InnoDB AUTO_INCREMENT=103270 DEFAULT CHARSET=utf8 COMMENT='借款信息'